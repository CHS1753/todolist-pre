<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>todos</title>
</head>
<body>
  <table id="app" class="table table-hover">
    <thead>
      <tr>
        <td>번호</td>
        <td>내용</td>
        <td>작성자</td>
        <td>작성일</td>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>
  <a href="write.html" class="btn btn-outline-danger">작성하기</a>
  
  <script>
    let todos =localStorage.getItem('todos')
    if (todos===null) {
      todos=[];
      localStorage.setItem('todos',JSON.stringify('todos'));
    } else {
      todos = JSON.parse(todos);
    }
    // mock 객체 추가
    todos = [
      {tno:1, title:'English', writer:'summer',writedate:'2025-08-27'},
      {tno:2, title:'Waching TV', writer:'summer',writedate:'2025-08-28'},
      {tno:3, title:'TV', writer:'summer',writedate:'2025-08-28'},
      {tno:4, title:'link', writer:'summer',writedate:'2025-08-28'},
      {tno:5, title:'yeet', writer:'summer',writedate:'2025-08-28'}
    ]

    const $tbody = document.getElementById('tbody');
    let html = "";
    for (const todo of todos) {
      html+= `<tr>
        <td>${todo.tno}</td>
        <td><a href="read.html?tno=${todo.tno}" class="btn btn-outline-primary">${todo.title}</a></td>
        <td>${todo.writer}</td>
        <td>${todo.writedate}</td>
        </tr>`
    }
    $tbody.innerHTML=html;
  </script>
</body>
</html>